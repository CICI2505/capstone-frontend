{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Box,Typography,Table,TableHead,TableRow,TableCell,TableBody,Paper,MenuItem,Select,CircularProgress}from'@mui/material';import Sidebar from'../../components/Sidebar';import{getReport}from'../../services/report/report';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Report(){const[period,setPeriod]=useState('monthly');const[transactions,setTransactions]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);useEffect(()=>{const fetchTransactions=async()=>{setLoading(true);setError(null);try{const token=localStorage.getItem('token');// ambil token\nconst data=await getReport(token,period);setTransactions(data);}catch(err){setError(err);}finally{setLoading(false);}};fetchTransactions();},[period]);return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex'},children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(Box,{component:\"main\",sx:{flexGrow:1,p:4},children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",fontWeight:\"bold\",children:\"Report Transaction\"}),/*#__PURE__*/_jsxs(Select,{value:period,onChange:e=>setPeriod(e.target.value),variant:\"outlined\",size:\"small\",sx:{borderRadius:3},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"monthly\",children:\"Monthly\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"weekly\",children:\"Weekly\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"yearly\",children:\"Yearly\"})]})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{mt:4,mb:2},children:\"Transaction History\"}),loading?/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",mt:4,children:/*#__PURE__*/_jsx(CircularProgress,{})}):error?/*#__PURE__*/_jsx(Typography,{color:\"error\",mt:4,children:error}):/*#__PURE__*/_jsx(Paper,{elevation:3,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Title\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Date\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Amount\"})})]})}),/*#__PURE__*/_jsx(TableBody,{children:transactions.length===0?/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:3,align:\"center\",children:\"No transactions found\"})}):transactions.map(trx=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(Typography,{fontWeight:\"bold\",children:trx.description}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:trx.type})]}),/*#__PURE__*/_jsx(TableCell,{children:trx.date}),/*#__PURE__*/_jsx(TableCell,{children:\"Rp \".concat(trx.amount.toLocaleString('id-ID'))})]},trx.transactionId))})]})})]})]});}export default Report;","map":{"version":3,"names":["React","useEffect","useState","Box","Typography","Table","TableHead","TableRow","TableCell","TableBody","Paper","MenuItem","Select","CircularProgress","Sidebar","getReport","jsx","_jsx","jsxs","_jsxs","Report","period","setPeriod","transactions","setTransactions","loading","setLoading","error","setError","fetchTransactions","token","localStorage","getItem","data","err","sx","display","children","component","flexGrow","p","justifyContent","alignItems","variant","fontWeight","value","onChange","e","target","size","borderRadius","mt","mb","color","elevation","length","colSpan","align","map","trx","description","type","date","concat","amount","toLocaleString","transactionId"],"sources":["C:/capstone-project-CC25/frontend/src/pages/Report/Report.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {\n  Box, Typography, Table, TableHead, TableRow,\n  TableCell, TableBody, Paper, MenuItem, Select, CircularProgress\n} from '@mui/material';\nimport Sidebar from '../../components/Sidebar';\nimport { getReport } from '../../services/report/report';\n\nfunction Report() {\n  const [period, setPeriod] = useState('monthly');\n  const [transactions, setTransactions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchTransactions = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const token = localStorage.getItem('token'); // ambil token\n        const data = await getReport(token, period);\n        setTransactions(data);\n      } catch (err) {\n        setError(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTransactions();\n  }, [period]);\n\n  return (\n    <Box sx={{ display: 'flex' }}>\n      <Sidebar />\n      <Box component=\"main\" sx={{ flexGrow: 1, p: 4 }}>\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n          <Typography variant=\"h3\" fontWeight=\"bold\">Report Transaction</Typography>\n          <Select\n            value={period}\n            onChange={(e) => setPeriod(e.target.value)}\n            variant=\"outlined\"\n            size=\"small\"\n            sx={{ borderRadius: 3 }}\n          >\n            <MenuItem value=\"monthly\">Monthly</MenuItem>\n            <MenuItem value=\"weekly\">Weekly</MenuItem>\n            <MenuItem value=\"yearly\">Yearly</MenuItem>\n          </Select>\n        </Box>\n\n        <Typography variant=\"h4\" sx={{ mt: 4, mb: 2 }}>Transaction History</Typography>\n\n        {loading ? (\n          <Box display=\"flex\" justifyContent=\"center\" mt={4}>\n            <CircularProgress />\n          </Box>\n        ) : error ? (\n          <Typography color=\"error\" mt={4}>{error}</Typography>\n        ) : (\n          <Paper elevation={3}>\n            <Table>\n              <TableHead>\n                <TableRow>\n                  <TableCell><strong>Title</strong></TableCell>\n                  <TableCell><strong>Date</strong></TableCell>\n                  <TableCell><strong>Amount</strong></TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {transactions.length === 0 ? (\n                  <TableRow>\n                    <TableCell colSpan={3} align=\"center\">No transactions found</TableCell>\n                  </TableRow>\n                ) : (\n                  transactions.map((trx) => (\n                    <TableRow key={trx.transactionId}>\n                      <TableCell>\n                        <Typography fontWeight=\"bold\">{trx.description}</Typography>\n                        <Typography variant=\"body2\" color=\"text.secondary\">{trx.type}</Typography>\n                      </TableCell>\n                      <TableCell>{trx.date}</TableCell>\n                      <TableCell>{`Rp ${trx.amount.toLocaleString('id-ID')}`}</TableCell>\n                    </TableRow>\n                  ))\n                )}\n              </TableBody>\n            </Table>\n          </Paper>\n        )}\n      </Box>\n    </Box>\n  );\n}\n\nexport default Report;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}